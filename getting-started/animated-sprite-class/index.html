<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<title data-react-helmet="true">Using the Animated Sprite Class | Monogame.Aseprite</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Using the Animated Sprite Class | Monogame.Aseprite"><meta data-react-helmet="true" name="description" content="This serves to document the AnimatedSprite class that you can use out-of-the-box in your game."><meta data-react-helmet="true" property="og:description" content="This serves to document the AnimatedSprite class that you can use out-of-the-box in your game."><meta data-react-helmet="true" property="og:url" content="https://manbeardgames.github.io/monogame-aseprite/getting-started/animated-sprite-class"><link data-react-helmet="true" rel="shortcut icon" href="/monogame-aseprite/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://manbeardgames.github.io/monogame-aseprite/getting-started/animated-sprite-class"><link rel="stylesheet" href="/monogame-aseprite/styles.a68ab181.css">
<link rel="preload" href="/monogame-aseprite/styles.8fdd00e7.js" as="script">
<link rel="preload" href="/monogame-aseprite/runtime~main.7bc18c1b.js" as="script">
<link rel="preload" href="/monogame-aseprite/main.f4083da4.js" as="script">
<link rel="preload" href="/monogame-aseprite/1.53f8b0d3.js" as="script">
<link rel="preload" href="/monogame-aseprite/149.fc2b75fb.js" as="script">
<link rel="preload" href="/monogame-aseprite/f976f453.7618d709.js" as="script">
<link rel="preload" href="/monogame-aseprite/148.4d48752e.js" as="script">
<link rel="preload" href="/monogame-aseprite/8660c324.2ea48945.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/monogame-aseprite/"><img src="/monogame-aseprite/img/monogame_aseprite_logo.png" alt="My Site Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/monogame-aseprite/img/monogame_aseprite_logo.png" alt="My Site Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">MonoGame.Aseprite</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/monogame-aseprite/">Docs</a><a class="navbar__item navbar__link" href="/monogame-aseprite/api/index">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/manbeardgames/monogame-aseprite" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Manbeardgames Twitter"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/monogame-aseprite/"><img src="/monogame-aseprite/img/monogame_aseprite_logo.png" alt="My Site Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/monogame-aseprite/img/monogame_aseprite_logo.png" alt="My Site Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">MonoGame.Aseprite</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/monogame-aseprite/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/monogame-aseprite/api/index">API</a></li><li class="menu__list-item"><a href="https://github.com/manbeardgames/monogame-aseprite" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Manbeardgames Twitter"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/monogame-aseprite/">Introduction</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/monogame-aseprite/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/monogame-aseprite/getting-started/importing-aseprite-file">Importing an Aseprite file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/monogame-aseprite/getting-started/using-in-game">Using in Game</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/monogame-aseprite/getting-started/animated-sprite-class">Using the Animated Sprite Class</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Using the Animated Sprite Class</h1></header><div class="markdown"><p>This serves to document the <code>AnimatedSprite</code> class that you can use out-of-the-box in your game.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>The <code>AnimatedSprite</code> class is an out-of-the-box solution for using the <code>AsepriteDocument</code> imported from the content pipeline.  The purpose of it is to give users a quick way of making use of the document imported, as well as an example of what you can do with it.</p><p><strong>It is an out-of-the-box solution and will not fit every need that a user may have when it comes to their sprite animations.</strong></p><p>Below we&#x27;ll go over how to instantiate a new instance of the class using the <code>AsepriteDocument</code>, and go over how to play an animation, and the various properties that are accessable to the class.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="creating-a-new-instance"></a>Creating a New Instance<a class="hash-link" href="#creating-a-new-instance" title="Direct link to heading">#</a></h2><p>To create a new instance of the <code>AnimatedSprite</code> class, you an call the <code>AnimatedSprite(AsepriteDocument)</code> constructor.  First you&#x27;ll need to import the <code>AsepriteDocument</code>, then you can create the class.  Here is an exmaple</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">using Monogame.Aseprite.Documents;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using MonoGame.Aseprite.Graphics;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">AsepriteDocument aseprite = Content.Load&lt;AsepriteDocument&gt;(&quot;player_animations&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">AnimatedSprite sprite = new AnimatedSprite(aseprite);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="playing-an-animation"></a>Playing an Animation<a class="hash-link" href="#playing-an-animation" title="Direct link to heading">#</a></h2><p>Once you&#x27;ve created a new <code>AnimatedSprite</code> instance, to play an animation, just called the <code>AnimatedSprite(string)</code> method, passing in the name of the animation to play.  Here is an example</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">sprite.Play(&quot;run&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>The <code>AnimatedSprite</code> class makes use of the names of the animation tags defined in the Aseprite file to define the dictionary of animations.  Because of this, each tag in the Aseprite file must have a unique name.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If the animation that you tell it to play is the current animation that is already playing, then the command is ignored. This is to prevent clipping an animation back to its start.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="invokable-actions"></a>Invokable Actions<a class="hash-link" href="#invokable-actions" title="Direct link to heading">#</a></h2><p>The <code>AniamtedSprite</code> class has three <code>Action</code> properties that you can set to be called during different stages of an animation. These are <code>OnFrameBegin</code>, <code>OnFrameEnd</code> and <code>OnAnimationLoop</code>.  Using these actions can give further control to how you use the class.</p><p>Before we learn to use these actions however, we need to understand the timing in which each actoin is called.  The following psuedo code serves to demonstrate the update method of the animated sprite to show the timigs of the action invocations.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Update</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(animating)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if(current frame&#x27;s remaining time equals its duration)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            Invoke OnFrameBegin</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Subtract delta time from current frame&#x27;s remaining time</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if(current frame&#x27;s remaining time is zero)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            Invoke OnFrameEnd</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            Increment the current frame index by 1</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            if(current frame index greater than animations last frame index)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                current frame index equals animation&#x27;s starting frame index</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                Invoke OnAnimationLoop</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="onframebegin"></a>OnFrameBegin<a class="hash-link" href="#onframebegin" title="Direct link to heading">#</a></h3><p>This action is invoked at the beginning of each frame in the animation.  To use it, just set the property value to an <code>Action</code> method.  For example.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">sprite.OnFrameBegin = () =&gt; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Your code here to execute at the beginning of each frame.    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="onframeend"></a>OnFrameEnd<a class="hash-link" href="#onframeend" title="Direct link to heading">#</a></h3><p>This action is invoked at the end of each frame in the animation.  To use it, just set the property value to an <code>Action</code> method.  For example</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">sprite.OnFrameEnd = () =&gt; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Your code here to execute at the end of each frame.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="onanimationloop"></a>OnAnimationLoop<a class="hash-link" href="#onanimationloop" title="Direct link to heading">#</a></h3><p>This action is invoked each time an animation loops back to the beginning.  To use it, just set the property value to an <code>Action</code> method.  For example</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">sprite.OnAnimationBegin() =&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Your code here to execute when an animation loops.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The <code>OnAnimationLoop</code> action is interesting because you can use it to switch to a different animation when the current one finishes playing.  For exmaple, lets say you have an attack animation, and you want to switch to an idle animation after the attack.  You can do so like this</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">sprite.Play(&quot;attack&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">sprite.OnAnimationLoop = () =&gt; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    sprite.Play(&quot;idle&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    sprite.OnAnimationLoop = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>The <code>AnimatedSprite</code> class provides a quick out-of-the-box solution that takes advantage of the <code>AsepriteDocument</code> imported to create sprite animations in your game.  It doesn&#x27;t require an <code>AsepriteDocument</code>, providing methods you can use to set it all up manuallly.  To do this, or f you would like a more indepth look at the <code>AnimatedSprite</code> class, check out the <a href="/monogame-aseprite/api/animatedsprite">API Documentation</a>. </p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/manbeardgames/monogame-aseprite/tree/gh-pages-develop/docs/getting-started/animated-sprite-class.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/monogame-aseprite/getting-started/using-in-game"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Using in Game.</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#creating-a-new-instance" class="table-of-contents__link">Creating a New Instance</a></li><li><a href="#playing-an-animation" class="table-of-contents__link">Playing an Animation</a></li><li><a href="#invokable-actions" class="table-of-contents__link">Invokable Actions</a><ul><li><a href="#onframebegin" class="table-of-contents__link">OnFrameBegin</a></li><li><a href="#onframeend" class="table-of-contents__link">OnFrameEnd</a></li><li><a href="#onanimationloop" class="table-of-contents__link">OnAnimationLoop</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 Christopher Whitley Built with Docusaurus.</div></div></div></footer></div>
<script src="/monogame-aseprite/styles.8fdd00e7.js"></script>
<script src="/monogame-aseprite/runtime~main.7bc18c1b.js"></script>
<script src="/monogame-aseprite/main.f4083da4.js"></script>
<script src="/monogame-aseprite/1.53f8b0d3.js"></script>
<script src="/monogame-aseprite/149.fc2b75fb.js"></script>
<script src="/monogame-aseprite/f976f453.7618d709.js"></script>
<script src="/monogame-aseprite/148.4d48752e.js"></script>
<script src="/monogame-aseprite/8660c324.2ea48945.js"></script>
</body>
</html>